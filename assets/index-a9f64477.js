import C from"./index-9eb8ef13.js";import{f as h}from"./fabric-e75cd5cd.js";import{u as g,_ as b}from"./index-10e24cf3.js";import{o as k,q as w,h as B,j as x,B as f,I as s,J as m,m as p,R as i}from"./vue-e0e31f72.js";/* empty css              */import"./arco-38a32e5c.js";function y(){const{$pub:l}=g(),{slBaseRandomString:c}=l,a=c(),e=c();let n=null;function d(o){l.slBasePolling(()=>u()).then(()=>{const t=u();n=new h.fabric.Canvas(e,{width:t.offsetWidth,height:t.offsetHeight,backgroundImage:o,isDrawingMode:!0}),n.freeDrawingBrush.color="black",n.freeDrawingBrush.width=2})}function u(){return document.getElementById(a)}function v(){if(n){n.clear(),n=null;const o=document.getElementById(a).firstChild;o.innerHTML=`<canvas id=${e}></canvas>`}}function r(){n.clear(),n.backgroundColor="white",n.renderAll()}function _(){const o=n.toDataURL({format:"png",quality:1}),t=document.createElement("a");t.href=o,t.download="signature.png",t.click()}return{fabricCanvasContentId:a,fabricCanvasId:e,fabricInit:d,fabricReset:v,clearCanvas:r,saveCanvas:_}}const I={class:"sl-layout-content"},D={class:"flex"},R=["id"],E=["id"],H={__name:"index",setup(l){const{fabricCanvasContentId:c,fabricCanvasId:a,fabricInit:e,clearCanvas:n,saveCanvas:d}=y();return k(()=>{e()}),(u,v)=>{const r=w("Button"),_=C;return B(),x("div",I,[f(_,null,{title:s(()=>[m("签字")]),extra:s(()=>[p("div",D,[f(r,{type:"primary",onClick:i(n)},{default:s(()=>[m("清除")]),_:1},8,["onClick"]),f(r,{type:"primary",onClick:i(d)},{default:s(()=>[m("保存")]),_:1},8,["onClick"])])]),default:s(()=>[p("div",{class:"draw-canvas",id:i(c)},[p("canvas",{id:i(a)},null,8,E)],8,R)]),_:1})])}}},T=b(H,[["__scopeId","data-v-ba908d47"]]);export{T as default};
